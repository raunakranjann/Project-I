<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Period Configuration</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Prevent cache -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
</head>

<body class="bg-gray-100 min-h-screen">

<div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-xl shadow">

    <!-- HEADER -->
    <div class="flex justify-between items-center border-b pb-4 mb-6">
        <div>
            <h2 class="text-2xl font-bold text-gray-800">
                Period Configuration
            </h2>
            <p class="text-sm text-gray-500">
                Administration â†’ Academic Configuration
            </p>
        </div>

        <a th:href="@{/administration/dashboard}"
           class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800">
            Back
        </a>
    </div>

    <!-- CURRENT CONFIG -->
    <div th:if="${config}"
         class="mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
        <p class="font-semibold text-blue-700 mb-1">
            Active Configuration
        </p>
        <p class="text-blue-800">
            <b th:text="${config.totalPeriods}">0</b> periods per day,
            <b th:text="${config.durationMinutes}">0</b> minutes each,
            starting at
            <b th:text="${config.dayStartTime}">09:00</b>
        </p>
    </div>

    <!-- CONFIG FORM -->
    <form th:action="@{/administration/periods}"
          method="post"
          class="space-y-6">

        <!-- CSRF -->
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>

        <div>
            <label class="block font-semibold mb-2">
                Number of Periods per Day
            </label>
            <input type="number"
                   name="totalPeriods"
                   min="1"
                   max="12"
                   required
                   class="w-full border border-gray-300 p-2 rounded"/>
        </div>

        <div>
            <label class="block font-semibold mb-2">
                Period Duration (minutes)
            </label>
            <input type="number"
                   name="durationMinutes"
                   min="30"
                   max="120"
                   required
                   class="w-full border border-gray-300 p-2 rounded"/>
        </div>

        <!-- ðŸ”‘ REQUIRED FIELD -->
        <div>
            <label class="block font-semibold mb-2">
                Day Start Time
            </label>
            <input type="time"
                   name="dayStartTime"
                   required
                   class="w-full border border-gray-300 p-2 rounded"/>
        </div>

        <button class="bg-blue-600 text-white px-6 py-2 rounded font-semibold
                       hover:bg-blue-700 transition">
            Save Period Settings
        </button>
    </form>

</div>

</body>
</html>
